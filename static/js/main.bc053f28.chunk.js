(this.webpackJsonpchromattis=this.webpackJsonpchromattis||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},,function(e,t,r){"use strict";r.r(t),r.d(t,"store",(function(){return T})),r.d(t,"render",(function(){return H}));var n=r(0),c=(r(2),r(7)),l=r.n(c),s=(r(17),r(18),function(e){return function(t){var r=T.getState().current_level(),n=r.board[r.currently_selected];0!==t.button||!e.will_change&&n!==e?2!==t.button||!e.will_change&&n!==e||T.dispatch({type:"PREVIOUS_TILE_COLOR",tile:e}):T.dispatch({type:"ADVANCE_TILE_COLOR",tile:n}),T.dispatch({type:"CLEAR_HIGHLIGHTS"})}}),a=function(e){return function(t){T.dispatch({type:"HIGHLIGHT_TILES",tile:e})}},o=function(e){var t=setInterval((function(){T.dispatch({type:"SHUFFLE_COLORS"})}),50);setTimeout((function(){clearInterval(t)}),800)},i=function(e){return function(t){T.dispatch({type:"NAVIGATE_LEVEL",level:e});var r=T.getState().current_level();r.in_winning_state()&&"N/A"===r.best_score&&T.dispatch({type:"SHUFFLE_COLORS"})}},u={0:"#B71234",1:"#FF5800",2:"#FFD500",3:"#009B48",4:"#0046AD",5:"#FFFFFF"},d=function(e){var t=e.tile,r=e.game_in_progress;return Object(n.jsx)("div",{className:"Tile",onMouseDown:a(t),onMouseUp:s(t),onTouchStart:a(t),onTouchEnd:s(t),style:{backgroundColor:u[t.current_color],transform:t.will_change?"scale(0.95)":null,opacity:t.will_change?.5:1,pointerEvents:r?null:"none",userSelect:"none"},children:Object(n.jsx)("span",{style:{color:u[t.current_color]},children:t.current_color})})},h=(r(19),function(e){var t=e.tiles,r=e.game_in_progress;e.current_moves,e.current_level_index;return t=t.map((function(e){return Object(n.jsx)(d,{tile:e,game_in_progress:r},e.id)})),Object(n.jsx)("div",{className:"Game",onContextMenu:function(e){return e.preventDefault()},style:{display:r?null:"none",gridTemplateColumns:"repeat(".concat(t.length/Math.floor(Math.sqrt(t.length)),", ").concat(555/(t.length/Math.floor(Math.sqrt(t.length)))-15,"px)"),gridTemplateRows:"repeat(".concat(Math.floor(Math.sqrt(t.length)),", ").concat(555/(t.length/Math.floor(Math.sqrt(t.length)))-15,"px)"),gridGap:"15px"},children:t})}),_=(r(20),function(e){var t=e.game_in_progress,r=e.current_moves,c=e.current_level_index;return Object(n.jsxs)("div",{className:"VictoryModal",style:{display:t?"none":null},children:[Object(n.jsxs)("h1",{children:["Solved in ",r," moves!"]}),Object(n.jsx)("p",{children:"Try to do it in fewer or move on?"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("span",{className:"flat-button",onClick:o,children:"Reset Puzzle"}),Object(n.jsx)("span",{className:"flat-button",onClick:i(c+1),children:"Next Puzzle"})]}),Object(n.jsx)("p",{children:"Brag about it:"}),Object(n.jsxs)("div",{className:"row victory-share",style:{display:t?"none":null},children:[Object(n.jsx)("a",{href:"https://twitter.com/share?text=I%20beat%20#Chromattis%20in%20".concat(r,"%20moves.%20I%20bet%20you%20can't%20do%20it%20in%20fewer!&via=CaptainStack"),className:"twitter-share-button","data-show-count":"false",children:"Tweet"}),Object(n.jsx)("script",{async:!0,src:"//platform.twitter.com/widgets.js",charSet:"utf-8"}),Object(n.jsx)("span",{className:"fb-share-button","data-href":"https://captainstack.github.io/chromattis/","data-layout":"button_count","data-size":"small","data-mobile-iframe":"true",children:Object(n.jsx)("a",{className:"fb-xfbml-parse-ignore",target:"_blank",rel:"noopener noreferrer",href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcaptainstack.github.io%2Fchromattis%2F&src=sdkpreparse",children:"Share"})}),Object(n.jsx)("a",{href:"//www.reddit.com/submit",onClick:function(){return window.location="//www.reddit.com/submit?url="+encodeURIComponent(window.location),!1},children:Object(n.jsx)("img",{src:"//www.redditstatic.com/spreddit7.gif",alt:"submit to reddit"})})]})]})}),b=(r(21),function(e){var t=e.levels,r=e.current_level_index,c=e.highest_unlocked_level,l=t.map((function(e,t){var l=r===t?"current-level":null,s=c>=t,a=s?"unlocked":"locked";return Object(n.jsx)("span",{className:"level-navigation-button ".concat(l," ").concat(a),onClick:s?i(t):null,title:s?"Click to go to level ".concat(t):"Locked",children:t},t)}));return Object(n.jsxs)("div",{className:"LevelNavigation",children:["Select Level: ",l]})}),v=function(e){var t=e.state,r=t.current_level();return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"main-container",children:[Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("h1",{children:"Chromattis"}),Object(n.jsxs)("div",{className:"score-container",children:[Object(n.jsx)("h3",{children:"MOVES:"}),Object(n.jsx)("p",{children:r.moves})]}),Object(n.jsxs)("div",{className:"score-container",children:[Object(n.jsx)("h3",{children:"BEST:"}),Object(n.jsx)("p",{children:r.best_score})]})]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("p",{children:["Click tiles to make the whole puzzle ",Object(n.jsx)("strong",{children:"one color."})]}),Object(n.jsx)("span",{className:"flat-button",onClick:o,children:"Reset Puzzle"}),Object(n.jsx)("span",{className:"flat-button",onClick:function(){T.dispatch({type:"SOLVE_PUZZLE"})},style:{display:"none"},children:"Solve"})]}),Object(n.jsx)(b,{levels:t.levels,current_level_index:t.current_level_index,highest_unlocked_level:t.highest_unlocked_level()}),Object(n.jsxs)("div",{className:"row",id:"game-row",children:[Object(n.jsx)(h,{tiles:r.board,game_in_progress:!r.in_winning_state(),current_moves:r.moves,current_level_index:t.current_level_index}),Object(n.jsx)(_,{game_in_progress:!r.in_winning_state(),current_moves:r.moves,current_level_index:t.current_level_index})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("strong",{children:"HOW TO PLAY:"})," Left-click to advance tiles to the next color. Right-click to change them to their previous. There are 6 colors in total that appear in the order red, orange, yellow, green, blue, white."]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{children:["Created by ",Object(n.jsx)("a",{href:"https://captainstack.github.io/public-stackhouse",target:"_",children:Object(n.jsx)("strong",{children:"Andre Stackhouse "})})," (",Object(n.jsx)("a",{href:"https://twitter.com/intent/follow?original_referer=http%3A%2F%2Flocalhost%3A3000%2F&ref_src=twsrc%5Etfw&screen_name=CaptainStack&tw_p=followbutton",children:"@CaptainStack"}),"). Source code hosted on ",Object(n.jsx)("a",{href:"https://github.com/CaptainStack/chromattis",target:"_",children:Object(n.jsx)("strong",{children:"GitHub"})})," under an open source MIT license."]}),Object(n.jsxs)("div",{className:"row social",children:[Object(n.jsx)("a",{href:"https://twitter.com/share?text=Are%20you%20smart%20enough%20to%20solve%20#Chromattis%3F&via=CaptainStack",className:"twitter-share-button","data-show-count":"true",children:"Tweet"}),Object(n.jsx)("script",{async:!0,src:"//platform.twitter.com/widgets.js",charSet:"utf-8"}),Object(n.jsx)("div",{className:"fb-share-button","data-href":"https://captainstack.github.io/chromattis/","data-layout":"button_count","data-size":"small","data-mobile-iframe":"true",children:Object(n.jsx)("a",{className:"fb-xfbml-parse-ignore",target:"_blank",rel:"noopener noreferrer",href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fcaptainstack.github.io%2Fchromattis%2F&src=sdkpreparse",children:"Share"})}),Object(n.jsxs)("a",{href:"//www.reddit.com/submit",onClick:function(){return window.location="//www.reddit.com/submit?url="+encodeURIComponent(window.location),!1},children:[" ",Object(n.jsx)("img",{src:"//www.redditstatic.com/spreddit7.gif",alt:"submit to reddit"})," "]}),Object(n.jsxs)("form",{action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_",children:[Object(n.jsx)("input",{type:"hidden",name:"cmd",value:"_s-xclick"}),Object(n.jsx)("input",{type:"hidden",name:"hosted_button_id",value:"TFH72M6LQSGNG"}),Object(n.jsx)("input",{type:"submit",className:"flat-button",value:"Support via PayPal",alt:"PayPal - The safer, easier way to pay online!"})]})]})]})})},f=(r(22),r(10)),m=r(11),j=r(1),p=function(e,t){var r,n=e.current_level().board.filter((function(e){return t.target_tiles.includes(e.id)})),c=Object(j.a)(n);try{for(c.s();!(r=c.n()).done;){var l=r.value;l.current_color<5?l.current_color+=1:l.current_color=0}}catch(s){c.e(s)}finally{c.f()}return e.current_level().moves++,e.current_level().in_winning_state()&&("N/A"===e.current_level().best_score||e.current_level().best_score>e.current_level().moves)&&(e.current_level().best_score=e.current_level().moves),e.current_level().currently_selected=null,e},g=function(e,t){var r,n=e.current_level().board.filter((function(e){return t.target_tiles.includes(e.id)})),c=Object(j.a)(n);try{for(c.s();!(r=c.n()).done;){var l=r.value;l.current_color=0===l.current_color?5:l.current_color-1}}catch(s){c.e(s)}finally{c.f()}return e.current_level().moves++,e.current_level().in_winning_state()&&("N/A"===e.current_level().best_score||e.current_level().best_score>e.current_level().moves)&&(e.current_level().best_score=e.current_level().moves),e},O=function(e,t){var r,n=Object(j.a)(e.current_level().board);try{for(n.s();!(r=n.n()).done;){var c=r.value;t.target_tiles.includes(c.id)&&(c.will_change=!0)}}catch(l){n.e(l)}finally{n.f()}return e.current_level().currently_selected=t.id,e},w=function(e){var t,r=Object(j.a)(e.current_level().board);try{for(r.s();!(t=r.n()).done;){t.value.will_change=!1}}catch(n){r.e(n)}finally{r.f()}return e},x=function(e){var t,r=e.current_level().board,n=r[Math.floor(Math.random()*r.length)],c=e.current_level().best_score,l=Object(j.a)(r);try{for(l.s();!(t=l.n()).done;){var s=t.value;s===n||n.target_tiles.includes(s.id)?s.current_color=0:s.current_color=1}}catch(i){l.e(i)}finally{l.f()}for(var a=function(t){var n=Math.floor(Math.random()*r.length),c=r[n],l=r.filter((function(e){return c.target_tiles.includes(e.id)}));!function(e,t){var r=t.map((function(e){return e.id})),n=e.map((function(e){return r.includes(e.id)?e.current_color<5?e.current_color+1:0:e.current_color}));return n.every((function(e){return e===n[0]}))}(r,l)?p(e,c):g(e,c),e.current_level().moves=0},o=0;o<1e3;o++)a();return e.current_level().best_score=c,e},y=function(e){var t,r=Object(j.a)(e.current_level().board);try{for(r.s();!(t=r.n()).done;){t.value.current_color=0}}catch(n){r.e(n)}finally{r.f()}return e},N=function(e,t){return e.levels.length-1>=t&&(e.current_level_index=t),e},S=function(){for(var e=1;e<this.board.length;e++)if(this.board[e].current_color!==this.board[e-1].current_color)return!1;return!0},k=function(){return this.levels[this.current_level_index]},L=function(){var e,t=0,r=Object(j.a)(this.levels.entries());try{for(r.s();!(e=r.n()).done;){var n=Object(m.a)(e.value,2),c=n[0];if("N/A"===n[1].best_score)break;t=c+1}}catch(l){r.e(l)}finally{r.f()}return t},C=localStorage.getItem("chromattis_saved_state");if(C){(C=JSON.parse(localStorage.getItem("chromattis_saved_state"))).current_level=k,C.highest_unlocked_level=L;var E,A=Object(j.a)(C.levels);try{for(A.s();!(E=A.n()).done;){E.value.in_winning_state=S}}catch(M){A.e(M)}finally{A.f()}}var I=function(e,t,r,n){return{id:e,will_change:r,current_color:n,target_tiles:t}},F=C||x({levels:[{board:[I(0,[0,1]),I(1,[1])],moves:0,best_score:"N/A",currently_selected:null,in_winning_state:S},{board:[I(0,[0,1]),I(1,[0,2]),I(2,[2,1])],moves:0,best_score:"N/A",currently_selected:null,in_winning_state:S},{board:[I(0,[0,1]),I(1,[1,2]),I(2,[2,0]),I(3,[3,2])],moves:0,best_score:"N/A",currently_selected:null,in_winning_state:S},{board:[I(0,[0,1,3,4]),I(1,[3,1,5]),I(2,[1,2,5]),I(3,[0,3,4]),I(4,[0,2,4]),I(5,[1,2,4,5])],moves:0,best_score:"N/A",currently_selected:null,in_winning_state:S},{board:[I(0,[0,1,3,4]),I(1,[1,5]),I(2,[1,2,4,5]),I(3,[3,1]),I(4,[4,5]),I(5,[5,7]),I(6,[3,4,6,7]),I(7,[3,7]),I(8,[4,5,7,8])],moves:0,best_score:"N/A",currently_selected:null,in_winning_state:S},{board:[I(0,[0,1,3]),I(1,[1,3,5]),I(2,[1,2,5]),I(3,[1,3,7]),I(4,[1,3,5,7]),I(5,[2,4,4,5,8]),I(6,[3,6,7]),I(7,[6,7,8,4]),I(8,[5,7,8])],moves:0,best_score:"N/A",currently_selected:null,in_winning_state:S},{board:[I(0,[0,1,2,3]),I(1,[1,4]),I(2,[2,5,8]),I(3,[3,6,9,12]),I(4,[4,5,6,7]),I(5,[5,2,8]),I(6,[6,3,9,12]),I(7,[7,10,13]),I(8,[8,9,10,11]),I(9,[9,3,6,12]),I(10,[10,7,13]),I(11,[11,14]),I(12,[12,13,14,15]),I(13,[13,9,5,1]),I(14,[14,10,6,2]),I(15,[15,11,7,3])],moves:0,best_score:"N/A",currently_selected:null,in_winning_state:S}],current_level_index:0,current_level:k,highest_unlocked_level:L});var T=Object(f.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADVANCE_TILE_COLOR":return p(e,t.tile);case"PREVIOUS_TILE_COLOR":return g(e,t.tile);case"HIGHLIGHT_TILES":return O(e,t.tile);case"CLEAR_HIGHLIGHTS":return w(e);case"SHUFFLE_COLORS":return x(e);case"NAVIGATE_LEVEL":return N(e,t.level);case"SOLVE_PUZZLE":return y(e);default:return e}})),H=function(){return l.a.render(Object(n.jsx)(v,{state:T.getState()}),document.getElementById("root"))};document.addEventListener("DOMContentLoaded",(function(){document.querySelector("body").addEventListener("mouseup",(function(e){"Tile"!==e.target.className&&T.dispatch({type:"CLEAR_HIGHLIGHTS"})}))}),!1),H(),T.subscribe(H),T.subscribe((function(){return localStorage.setItem("chromattis_saved_state",JSON.stringify(T.getState()))}))}],[[24,1,2]]]);
//# sourceMappingURL=main.bc053f28.chunk.js.map